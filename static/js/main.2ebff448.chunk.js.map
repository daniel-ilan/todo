{"version":3,"sources":["shared/style/theme.ts","firebaseConfig.ts","main/fireBaseMethods.ts","shared/providers/firebaseAuthProvider.tsx","login/components/Signin.tsx","login/components/Signup.tsx","login/components/TabPanel.tsx","login/components/Login.tsx","app/components/Container.tsx","login/components/Footer.tsx","app/components/PrivateRoute.tsx","main/components/DrawerPane.tsx","main/components/Header.tsx","main/components/Dialog.tsx","main/components/AlertDialog.tsx","main/components/Task.tsx","main/components/Cards.tsx","utils/kanban.tsx","main/components/Main.tsx","app/components/Todos.tsx","app/components/App.tsx","index.tsx"],"names":["theme","createMuiTheme","direction","palette","primary","main","secondary","error","red","A400","background","default","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","database","addNewProject","projectName","a","userId","currentUser","uid","projectData","users","name","columns","new","id","title","taskIds","doing","done","columnOrder","userRef","ref","projectKey","child","push","key","update","console","log","addTask","column","set","newTaskId","owner","get","then","snapshot","exists","allTasks","val","catch","err","getTasks","AuthContext","createContext","useAuth","useContext","UserProvider","children","useState","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signup","email","password","fullName","Promise","resolve","reject","createUserWithEmailAndPassword","updateProfile","displayName","userData","projects","initUserData","signin","signInWithEmailAndPassword","signout","signOut","passwordReset","sendPasswordResetEmail","Provider","useStyles","makeStyles","paper","justifyContent","display","flexDirection","alignItems","flexWrap","height","avatar","margin","spacing","backgroundColor","form","minWidth","maxWidth","submit","width","alignSelf","smallText","h100","Signin","handleChange","classes","setError","setEmail","setPassword","history","useHistory","onChangeHandler","event","currentTarget","className","Avatar","Typography","component","variant","noValidate","TextField","required","fullWidth","label","onChange","type","Button","color","disabled","onClick","preventDefault","message","handleSignIn","Grid","container","align","Link","href","marginTop","Signup","props","setDisplayName","autoComplete","handleSignup","TabPanel","index","other","role","hidden","aria-labelledby","h90","Box","root","flexGrow","minHeight","image","backgroundImage","backgroundRepeat","grey","backgroundSize","backgroundPosition","tab","Login","chosenTab","setChosenTab","CssBaseline","item","xs","sm","md","Paper","elevation","Tabs","aria-label","textColor","indicatorColor","Tab","aria-controls","overflow","content","position","flex","Container","Copyright","Date","getFullYear","marginBottom","footer","padding","Footer","PrivateRoute","Component","rest","to","menuButton","drawer","flexShrink","whiteSpace","drawerOpen","transition","transitions","create","easing","sharp","duration","enteringScreen","drawerClose","leavingScreen","overflowX","breakpoints","up","toolbar","mixins","DrawerPane","isDrawerOpen","handleDrawerClose","onSelectProject","React","anchorEl","setAnchorEl","isMenuOpen","Boolean","setProjects","projectsRef","getProjectsRef","handleCloseMenu","handleOpenMenu","on","isEqual","Drawer","clsx","IconButton","Divider","List","map","text","ListItem","button","ListItemIcon","ListItemText","primaryTypographyProps","keepMounted","open","onClose","PaperProps","style","maxHeight","Object","values","length","keys","MenuItem","handleLoadProject","icon","marginRight","appBar","zIndex","appBarShift","marginInlineStart","hide","buttonsWrapper","logOutBtn","marginInlineEnd","Header","SetIsDrawerOpen","AppBar","Toolbar","edge","noWrap","dialog","FormDialog","setName","useTheme","fullScreen","useMediaQuery","down","cbFunc","setOpen","handleClose","Dialog","DialogTitle","DialogContent","autoFocus","DialogActions","handleModelClose","AlertDialog","aria-describedby","DialogContentText","listItem","textAlign","Task","columnDetails","task","taskId","handleDeleteTask","splice","columnId","newTaskIds","remove","deleteTask","draggableId","provided","undefined","draggableProps","dragHandleProps","innerRef","DeleteForever","card","cardHeader","fontWeight","cardContent","list","buttonIcon","Cards","cardName","tasks","allData","openDialog","setOpenDialog","Card","CardHeader","CardContent","droppableId","dir","droppableProps","placeholder","startIcon","AddCircleOutlineRounded","newTask","useKanban","setTasks","setColumns","final","setFinal","boardName","setBoardName","documents","forEach","taskKey","columnKey","finalObject","find","c","cols","filter","colName","t","initialData","setInitialData","wrapper","cardGrid","paddingTop","paddingBottom","Main","projectKeyRef","setProjectKeyRef","onAddNewProject","onDragEnd","result","destination","source","columnName","startColumn","endColumn","Array","from","newColumn","newState","startTaskIDs","newStart","finishTaskIDs","newFinish","startColumnName","endColumnName","updates","reorderTasksColumns","colId","Todos","Fragment","App","exact","path","ReactDOM","render","ThemeProvider","basename","document","getElementById"],"mappings":"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","file":"static/js/main.2ebff448.chunk.js","sourcesContent":["import { red } from '@material-ui/core/colors';\nimport { createMuiTheme, Theme } from '@material-ui/core/styles';\n\n// A custom theme for this app\nconst theme: Theme = createMuiTheme({\n    direction: 'rtl',\n    palette: {\n        primary: {\n            main: '#556cd6',\n        },\n        secondary: {\n            main: '#19857b',\n        },\n        error: {\n            main: red.A400,\n        },\n        background: {\n            default: '#fff',\n        },\n    },\n});\n\nexport default theme;\n","import firebase from 'firebase';\nimport 'firebase/database';\n\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyC_11_x-_MJc2jTJDPl4kMEVE9j1AD5nH4',\n  authDomain: 'to-do-f68eb.firebaseapp.com',\n  databaseURL: 'https://to-do-f68eb-default-rtdb.firebaseio.com',\n  projectId: 'to-do-f68eb',\n  storageBucket: 'to-do-f68eb.appspot.com',\n  messagingSenderId: '842402979630',\n  appId: '1:842402979630:web:a4d0bc8e26857ba7c764bf',\n  measurementId: 'G-1BVENDYJCX',\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport const auth = firebase.auth();\nexport const database = firebase.database();\nexport default firebase;\n","import { database, auth } from '../firebaseConfig';\nimport * as Types from './firebaseTypes';\n\ninterface IaddTask {\n    projectKey: string;\n    column: string;\n    name: string;\n}\n\ninterface Itask {\n    name: string;\n    order: number;\n    owner: string;\n    [key: string]: any;\n}\n\nexport const initUserData = (userData: Types.initUserType) => {\n    const { userId, email, displayName } = userData;\n    database.ref('users/' + userId).set({\n        email: email,\n        displayName: displayName,\n        projects: []\n    });\n}\n\nexport const addNewProject = async (projectName: string) => {\n    const userId = auth.currentUser!.uid;\n    const projectData: Types.projectDataType = {\n        users: userId,\n        name: projectName,\n        columns: {\n            new: {\n                id: 'new', title: 'לעשות', taskIds: []\n            },\n            doing: {\n                id: 'doing', title: 'בעשייה', taskIds: []\n            },\n            done: {\n                id: 'done', title: 'נעשה', taskIds: []\n            },\n            columnOrder: ['new', 'doing', 'done']\n        },\n    }\n\n    const userRef = database.ref('users/' + userId + '/projects');\n    const projectKey = database.ref().child('projects').push().key;\n\n    await database.ref('projects/' + projectKey).update({\n        ...projectData\n    }, (error) => {\n        if (error) {\n            console.log(error);\n        } else {\n            addTask({ projectKey: projectKey!, column: 'new', name: 'הוסף משימה ראשונה' });\n            userRef.child(projectKey!).set(projectName);\n        }\n    });\n    return projectKey;\n}\n\nexport const addTask = async ({ projectKey, column, name }: IaddTask) => {\n    const userId = auth.currentUser!.uid!;\n    const newTaskId = database.ref('projects/' + projectKey + '/tasks').push().key\n    database.ref('projects/' + projectKey + '/tasks/' + newTaskId).update({ id: newTaskId, name: name, owner: userId })\n\n    const getTasks = await database.ref('projects/' + projectKey + '/columns/' + column + '/taskIds').get().then((snapshot: any) => {\n        if (snapshot.exists()) {\n            const allTasks = snapshot.val()\n            console.log(\"allTasks\", allTasks)\n            allTasks.push(newTaskId)\n            return allTasks;\n        }\n        return [newTaskId]\n    }).catch(err => {\n        console.log(err);\n    })\n    console.log(\"stop this\", getTasks)\n    database.ref('projects/' + projectKey + '/columns/' + column).child('taskIds').set(getTasks)\n\n}\n\nexport const getProjectsRef = () => {\n    const userId = auth.currentUser!.uid;\n    const userProjectsRef = database.ref('users/' + userId);\n    return userProjectsRef;\n}\n\nexport const getSelectProjectRef = (projectKey: string) => {\n    const projectsRef = database.ref('projects/' + projectKey);\n    return projectsRef;\n}\n\nexport const deleteTask = (projectKey: string, columnId: string, taskId: string, newTaskIds: string[]) => {\n\n    const tasksTodoRef = database.ref(`projects/${projectKey}/tasks/${taskId}`);\n    tasksTodoRef.remove()\n    database.ref(`projects/${projectKey}/columns/${columnId}/taskIds`).set(newTaskIds)\n}\n\nexport const reorderTasksColumns = (projectKey: string, startColumnName: string, endColumnName: string, startColumn: any, endColumn: any) => {\n    const updates = {\n        [`projects/${projectKey}/columns/${startColumnName}/taskIds`]: startColumn,\n        [`projects/${projectKey}/columns/${endColumnName}/taskIds`]: endColumn,\n    }\n    console.log(\"changeded columns\");\n\n    database.ref().update(updates)\n}\n\nexport const reorderTasks = (projectKey: string, columnName: string, tasks: any) => {\n\n    database.ref(`projects/ ${projectKey}/columns/${columnName}/taskIds`).update(tasks)\n}\n\nexport const initTasksOrder = (projectKey: string, column: string, tasks: any): Itask[] => {\n    console.log(\"tasks\", tasks);\n    const sortedTodos = Object.keys(tasks)\n        .sort((a, b) => {\n            return tasks[a].order - tasks[b].order;\n        })\n        .map((taskId: string) => {\n            return { [taskId]: tasks[taskId] };\n        });\n    console.log(\"sortedTodos\", sortedTodos);\n\n    database.ref('projects/' + projectKey + '/todos').child(column).update(tasks)\n    return sortedTodos as Itask[];\n}","import React, { createContext, useContext, useEffect, useState } from 'react';\nimport { auth } from '../../firebaseConfig';\nimport { initUserData } from 'main/fireBaseMethods';\n\ntype value = {\n  currentUser: any | null;\n  signup: (email: string, password: string, fullName: string) => Promise<unknown>;\n  signin: (email: string, password: string) => Promise<unknown>;\n  signout: () => Promise<void>;\n  passwordReset: (email: string) => Promise<unknown>;\n};\n\nconst AuthContext = createContext<null | value>(null);\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nconst UserProvider: React.FC = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState<any | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const signup = (email: string, password: string, fullName: string) => {\n    let promise = new Promise(function (resolve, reject) {\n      auth\n        .createUserWithEmailAndPassword(email, password)\n        .then((ref) => {\n          ref.user?.updateProfile({\n            displayName: fullName,\n          });\n          initUserData({ userId: ref.user?.uid, email: email, displayName: fullName });\n          resolve(ref);\n        })\n        .catch((error) => reject(error));\n    });\n    return promise;\n  };\n  const signin = (email: string, password: string) => {\n    let promise = new Promise(function (resolve, reject) {\n      auth\n        .signInWithEmailAndPassword(email, password)\n        .then((ref) => {\n          resolve(ref);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n    return promise;\n  };\n  const signout = () => {\n    return auth.signOut();\n  };\n  const passwordReset = (email: string) => {\n    let promise = new Promise(function (resolve, reject) {\n      auth\n        .sendPasswordResetEmail(email)\n        .then(() => {\n          resolve(`Password Reset Email sent to ${email}`);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n    return promise;\n  };\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, [currentUser]);\n  const value = {\n    currentUser,\n    signup,\n    signin,\n    signout,\n    passwordReset,\n  };\n\n  return <AuthContext.Provider value={value}>{!loading && children}</AuthContext.Provider>;\n};\n\nexport default UserProvider;\n","import React, { useState } from 'react';\n/* import { useHistory } from 'react-router-dom'; */\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuth } from 'shared/providers/firebaseAuthProvider';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    justifyContent: 'space-evenly',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    height: '100%',\n  },\n  avatar: {\n    margin: theme.spacing(),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    minWidth: '75%;',\n    maxWidth: '75%',\n    justifyContent: 'center', // Fix IE 11 issue.\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    width: '50%',\n    alignSelf: 'center',\n  },\n  smallText: {\n    width: '100%',\n  },\n  h100: {\n    height: '100%',\n  },\n}));\n\nconst Signin = ({ ...props }) => {\n  const { handleChange } = props;\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const signin = useAuth()!.signin;\n  const history = useHistory();\n\n  const handleSignIn = (event: any, email: string, password: string) => {\n    console.log(error);\n    event.preventDefault();\n    setError('');\n    setLoading(true);\n    signin(email, password)\n      .then((ref) => {\n        setLoading(false);\n        history.push('/todos');\n      })\n      .catch((error) => {\n        setError(error.message);\n        console.log(error);\n        setLoading(false);\n      });\n    setEmail('');\n    setPassword('');\n  };\n\n  const handleTabChange = (event: any) => {\n    handleChange(event, 1);\n  };\n\n  const onChangeHandler = (event: any) => {\n    const { name, value } = event.currentTarget;\n\n    if (name === 'userEmail') {\n      setEmail(value);\n    } else if (name === 'userPassword') {\n      setPassword(value);\n    }\n  };\n\n  return (\n    <div className={classes.h100}>\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component='h1' variant='h4'>\n          התחברות\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant='outlined'\n            margin='dense'\n            required\n            fullWidth\n            id='userEmail'\n            label='כתובת מייל'\n            name='userEmail'\n            value={email}\n            onChange={(event) => onChangeHandler(event)}\n          />\n          <TextField\n            variant='outlined'\n            margin='dense'\n            required\n            fullWidth\n            name='userPassword'\n            value={password}\n            label='ססמא'\n            type='password'\n            id='userPassword'\n            onChange={(event) => onChangeHandler(event)}\n          />\n          <Button\n            type='submit'\n            variant='contained'\n            color='primary'\n            className={classes.submit}\n            disabled={loading}\n            onClick={(event) => {\n              handleSignIn(event, email, password);\n            }}>\n            התחברות\n          </Button>\n          <Button\n            type='submit'\n            variant='contained'\n            color='secondary'\n            disabled={loading}\n            className={classes.submit}\n            onClick={(event) => {\n              console.log(event);\n            }}>\n            התחברות עם גוגל\n          </Button>\n          <Grid container>\n            <Typography variant='body2' align='center' className={classes.smallText}>\n              אין לך חשבון?\n              <Link href='#' variant='body2' onClick={handleTabChange}>\n                {' צור לי משתמש חדש  '}\n              </Link>\n            </Typography>\n          </Grid>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n/* mt={4}\n            color='secondary'\n            className={classes.submit}\n            onClick={(event) => {\n              console.log(event);\n            }} */\nexport default Signin;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from 'shared/providers/firebaseAuthProvider';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\n/* import { signInWithGoogle } from \"../../firebase\";\n */\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    justifyContent: 'space-evenly',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    height: '100%',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    minWidth: '75%;',\n    maxWidth: '75%',\n    justifyContent: 'center', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    width: '50%',\n    alignSelf: 'center',\n  },\n  smallText: {\n    width: '100%',\n  },\n  h100: {\n    height: '100%',\n  },\n}));\n\nconst Signup = ({ ...props }) => {\n  const classes = useStyles();\n  const { handleChange } = props;\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [displayName, setDisplayName] = useState('');\n\n  const signup = useAuth()!.signup;\n  const history = useHistory();\n\n  const handleSignup = (event: any, email: string, password: string, displayName: string) => {\n    console.log(error);\n    event.preventDefault();\n    setError('');\n    setLoading(true);\n    signup(email, password, displayName)\n      .then((ref) => {\n        setLoading(false);\n        history.push('/todos');\n      })\n      .catch((err) => {\n        console.log(err);\n        setError(err);\n      });\n    setEmail('');\n    setPassword('');\n    setDisplayName('');\n  };\n  const onChangeHandler = (event: any) => {\n    const { name, value } = event.currentTarget;\n    if (name === 'userEmail') {\n      setEmail(value);\n    } else if (name === 'userPassword') {\n      setPassword(value);\n    } else if (name === 'displayName') {\n      setDisplayName(value);\n    }\n  };\n\n  const handleTabChange = (event: any) => {\n    handleChange(event, 0);\n  };\n\n  return (\n    <div className={classes.h100}>\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component='h1' variant='h4'>\n          הרשמה\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant='outlined'\n            margin='dense'\n            required\n            fullWidth\n            id='displayName'\n            label='לדוגמא: ישראל ישראלי'\n            name='displayName'\n            value={displayName}\n            onChange={(event) => onChangeHandler(event)}\n          />\n          <TextField\n            variant='outlined'\n            margin='dense'\n            required\n            fullWidth\n            id='userEmail'\n            value={email}\n            label='כתובת מייל'\n            name='userEmail'\n            onChange={(event) => onChangeHandler(event)}\n          />\n          <TextField\n            variant='outlined'\n            margin='dense'\n            required\n            fullWidth\n            name='userPassword'\n            label='ססמא'\n            type='password'\n            id='userPassword'\n            autoComplete='current-password'\n            value={password}\n            onChange={(event) => onChangeHandler(event)}\n          />\n          <TextField\n            variant='outlined'\n            margin='dense'\n            required\n            fullWidth\n            name='authPassword'\n            label='אישור סיסמה'\n            type='password'\n            id='authPassword'\n            autoComplete='current-password'\n            onChange={(event) => onChangeHandler(event)}\n          />\n          <Button\n            type='submit'\n            variant='contained'\n            color='primary'\n            disabled={loading}\n            className={classes.submit}\n            onClick={(event) => {\n              handleSignup(event, email, password, displayName);\n            }}>\n            הרשמה\n          </Button>\n          {/* <Button\n            type='submit'\n            variant='contained'\n            mt={4}\n            color='secondary'\n            className={classes.submit}\n            onClick={(event) => {\n              console.log(event);\n            }}>\n            התחברות עם גוגל\n          </Button> */}\n          <Grid container>\n            <Typography variant='body2' align='center' className={classes.smallText}>\n              כבר נרשמת?\n              <Link href='#' variant='body2' onClick={handleTabChange}>\n                {' עבור להתחברות  '}\n              </Link>\n            </Typography>\n          </Grid>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Signup;\n","import React from 'react';\nimport Box from '@material-ui/core/Box';\n\nconst TabPanel = (props: any) => {\n  const { children, value, index, ...other } = props;\n\n  const { classes } = props;\n  return (\n    <div\n      role='tabpanel'\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n      className={classes.h90}>\n      {value === index && <Box className={classes.h100}>{children}</Box>}\n    </div>\n  );\n};\n\nexport default TabPanel;\n","import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { Theme, makeStyles } from '@material-ui/core/styles';\nimport Signin from './Signin';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Paper from '@material-ui/core/Paper';\nimport Signup from './Signup';\nimport TabPanel from './TabPanel';\n\n/* export interface tabPropsType {\n  cb: (event: any, value: number) => void;\n  index: number;\n  value: number;\n} */\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    flexGrow: 1,\n    alignSelf: 'stretch',\n    minHeight: '90%',\n  },\n  image: {\n    backgroundImage: 'url(https://source.unsplash.com/random)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  tab: {\n    flexGrow: 1,\n    maxWidth: '100%',\n  },\n  h100: {\n    height: '100%',\n  },\n  h90: {\n    height: '90%',\n  },\n}));\n\nconst Login = (props: any) => {\n  /* constructor(props: any) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.state = { value: 0, chosenTab: false };\n  } */\n  const classes = useStyles();\n  const [chosenTab, setChosenTab] = useState(0);\n\n  const handleChange = (event: any, value: number) => {\n    setChosenTab(value);\n  };\n\n  /*   const componentDidUpdate = () => {\n    if (this.props.isAuthenticated.isLoaded && !this.props.isAuthenticated.isEmpty) {\n      let path = `app`;\n      this.props.history.push(path);\n    }\n  }\n  componentDidMount() {\n    if (this.props.isAuthenticated.isLoaded && !this.props.isAuthenticated.isEmpty) {\n      let path = `app`;\n      this.props.history.push(path);\n    }\n  } */\n  /*  const tabProps: tabPropsType = {\n    index: 0,\n    value: chosenTab,\n    cb: handleChange,\n  }; */\n\n  return (\n    <Grid container className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6}>\n        <Tabs\n          aria-label='simple tabs example'\n          textColor='primary'\n          indicatorColor='primary'\n          onChange={handleChange}\n          value={chosenTab}>\n          <Tab label='התחברות' id='0' aria-controls='0' className={classes.tab} />\n          <Tab label='הרשמה' id='1' aria-controls='1' className={classes.tab} />\n        </Tabs>\n\n        <TabPanel index={1} value={chosenTab} className={classes.h90} classes={classes}>\n          <Signup handleChange={handleChange} className={classes.h100} />\n        </TabPanel>\n\n        <TabPanel index={0} value={chosenTab} className={classes.h90} classes={classes}>\n          <Signin handleChange={handleChange} className={classes.h100} />\n        </TabPanel>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Login;\n","import React from 'react';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100vh',\n    width: '100vw',\n    overflow: 'hidden',\n  },\n  content: {\n    position: 'relative',\n    height: '100%',\n    flex: '1 1 100%',\n  },\n}));\n\ntype Props = { children?: React.ReactNode };\n\nconst Container = ({ children }: Props) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <div className={classes.content}>{children}</div>\n    </div>\n  );\n};\n\nexport default Container;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\n\nfunction Copyright() {\n  return (\n    <Typography variant='body2' color='textSecondary'>\n      {'Copyright © '}\n      <Link color='inherit' href='https://material-ui.com/'>\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(2),\n  },\n  footer: {\n    flex: '0 0 100%',\n    display: 'flex',\n    justifyContent: 'center',\n    padding: theme.spacing(1, 2),\n    marginTop: 'auto',\n    minHeight: '10%',\n    width: '100vw',\n    backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[800],\n  },\n}));\n\nconst Footer = () => {\n  const classes = useStyles();\n\n  return (\n    <footer className={classes.footer}>\n      <Container maxWidth='sm'>\n        <Typography variant='body1'>My sticky footer can be found here.</Typography>\n        <Copyright />\n      </Container>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useAuth } from 'shared/providers/firebaseAuthProvider';\n// destructure props to get authentication and select component to serve\nconst PrivateRoute = ({ component: Component, ...rest }: any) => {\n  const currentUser = useAuth()!.currentUser;\n  return <Route {...rest} component={() => (currentUser ? <Component /> : <Redirect to='/' />)} />;\n};\nexport default PrivateRoute;\n","import React, { useEffect, useState } from 'react';\nimport { Divider, Drawer, IconButton, List, ListItem, ListItemIcon, ListItemText, makeStyles } from '@material-ui/core';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport MailIcon from '@material-ui/icons/Mail';\nimport { Menu, MenuItem } from '@material-ui/core';\nimport clsx from 'clsx';\nimport isEqual from 'lodash/isEqual';\nimport { getProjectsRef } from '../fireBaseMethods';\n\ntype projectType = {\n  projectKey?(index: string): string;\n};\n\ntype projectListType = {\n  [index: string]: projectType;\n};\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    color: 'white',\n    alignSelf: 'inline-start',\n  },\n  drawer: {\n    width: 240,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n    direction: 'rtl',\n  },\n  drawerOpen: {\n    width: 240,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n}));\n\nconst DrawerPane = ({ ...props }) => {\n  const { isDrawerOpen, handleDrawerClose, onSelectProject } = props;\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const isMenuOpen = Boolean(anchorEl);\n  const [projects, setProjects] = useState<projectListType>({});\n  const projectsRef = getProjectsRef();\n\n  const handleLoadProject = (key: string) => {\n    onSelectProject(key);\n    handleCloseMenu();\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const handleOpenMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  useEffect(() => {\n    if (!projects) setProjects({});\n    projectsRef.on('value', (snapshot: any) => {\n      if (!isEqual(projects, snapshot.val().projects) && snapshot.val().projects) setProjects(snapshot.val().projects);\n    });\n  }, [projectsRef, projects]);\n\n  const classes = useStyles();\n\n  return (\n    <Drawer\n      variant='permanent'\n      className={clsx(classes.drawer, {\n        [classes.drawerOpen]: isDrawerOpen,\n        [classes.drawerClose]: !isDrawerOpen,\n      })}\n      classes={{\n        paper: clsx({\n          [classes.drawerOpen]: isDrawerOpen,\n          [classes.drawerClose]: !isDrawerOpen,\n        }),\n      }}>\n      <div className={classes.toolbar}>\n        <IconButton onClick={handleDrawerClose}>{<ChevronRightIcon />}</IconButton>\n      </div>\n      <Divider />\n      <List>\n        {['פרויקטים'].map((text, index) => (\n          <ListItem button key={text} onClick={handleOpenMenu}>\n            <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\n            <ListItemText primary={text} primaryTypographyProps={{ align: 'right' }} />\n          </ListItem>\n        ))}\n      </List>\n      <Menu\n        id='long-menu'\n        anchorEl={anchorEl}\n        keepMounted\n        open={isMenuOpen}\n        onClose={handleCloseMenu}\n        PaperProps={{\n          style: {\n            maxHeight: 48 * 4.5,\n            width: '30ch',\n          },\n        }}>\n        {Object.values(projects).length > 0 &&\n          Object.keys(projects).map((key: string, index: number) => (\n            <MenuItem key={index} onClick={() => handleLoadProject(key)}>\n              {projects[key]}\n            </MenuItem>\n          ))}\n      </Menu>\n    </Drawer>\n  );\n};\n\nexport default DrawerPane;\n","import React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from 'shared/providers/firebaseAuthProvider';\nimport { makeStyles, Typography, Toolbar, IconButton, AppBar, Button, Box } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport DrawerPane from './DrawerPane';\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    marginRight: theme.spacing(2),\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginInlineStart: 240,\n    width: `calc(100% - ${240}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  hide: {\n    display: 'none',\n  },\n  menuButton: {\n    color: 'white',\n    alignSelf: 'inline-start',\n  },\n  drawer: {\n    width: 240,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n  },\n  drawerOpen: {\n    width: 240,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n\n  buttonsWrapper: {\n    display: 'flex',\n    width: '30%',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  logOutBtn: {\n    marginInlineStart: 'auto',\n    marginInlineEnd: '5%',\n  },\n}));\n\nconst Header = ({ ...props }) => {\n  const { onSelectProject } = props;\n  const signout = useAuth()!.signout;\n  const [isDrawerOpen, SetIsDrawerOpen] = useState(false);\n  const history = useHistory();\n  const classes = useStyles();\n  const handleDrawerOpen = () => {\n    SetIsDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    SetIsDrawerOpen(false);\n  };\n  //test\n\n  const handleLogOut = () => {\n    history.push('/');\n    signout();\n  };\n  return (\n    <>\n      <AppBar\n        position='fixed'\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: isDrawerOpen,\n        })}>\n        <Toolbar>\n          <Box component='div' className={classes.buttonsWrapper}>\n            <IconButton\n              color='inherit'\n              aria-label='open drawer'\n              onClick={handleDrawerOpen}\n              edge='start'\n              className={clsx(classes.menuButton, {\n                [classes.hide]: isDrawerOpen,\n              })}>\n              <MenuIcon />\n            </IconButton>\n            <Typography variant='h6' noWrap>\n              משהו אחר\n            </Typography>\n          </Box>\n          <Button variant='contained' className={classes.logOutBtn} color='primary' onClick={() => handleLogOut()}>\n            התנתק\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <DrawerPane isDrawerOpen={isDrawerOpen} handleDrawerClose={handleDrawerClose} onSelectProject={onSelectProject} />\n    </>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  dialog: {\n    minWidth: '450px',\n  },\n}));\n\nexport default function FormDialog({ ...props }) {\n  const [name, setName] = React.useState('');\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const classes = useStyles();\n  const { cbFunc, open, setOpen, text } = props;\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleNameChange = (event: any) => {\n    const { value } = event.currentTarget;\n    setName(value);\n  };\n\n  const handleModelClose = (event: any, name: string) => {\n    event.preventDefault();\n    cbFunc(name);\n\n    handleClose();\n  };\n\n  return (\n    <>\n      <Dialog open={open} onClose={handleClose} fullScreen={fullScreen} aria-labelledby='form-dialog-title'>\n        <DialogTitle id='form-dialog-title'>{text.label}</DialogTitle>\n        <DialogContent className={classes.dialog}>\n          <TextField\n            autoFocus\n            onChange={handleNameChange}\n            margin='dense'\n            id='projectName'\n            name='projectName'\n            label={text.label}\n            type='text'\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color='primary'>\n            ביטול\n          </Button>\n          <Button color='primary' variant='contained' onClick={(event) => handleModelClose(event, name)}>\n            שליחה\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nconst AlertDialog = ({ ...props }) => {\n  const { open, setOpen, text, cbFunc } = props;\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const onAgree = () => {\n    cbFunc();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby='alert-dialog-title'\n        aria-describedby='alert-dialog-description'>\n        <DialogTitle id='alert-dialog-title'>{'מחיקת משימה'}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id='alert-dialog-description'>{text}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color='primary'>\n            ביטול פעולה\n          </Button>\n          <Button onClick={onAgree} color='primary' autoFocus>\n            בסדר, המשך\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default AlertDialog;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { ListItemIcon } from '@material-ui/core';\nimport { DeleteForever } from '@material-ui/icons';\nimport AlertDialog from './AlertDialog';\nimport { deleteTask } from 'main/fireBaseMethods';\nimport { Draggable } from 'react-beautiful-dnd';\nconst useStyles = makeStyles((theme) => ({\n  listItem: {\n    textAlign: 'right',\n  },\n}));\n\nexport default function Task({ ...props }) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const { projectKey, columnDetails, task, taskId, index } = props;\n  const alertText = 'למחוק את המשימה סופית? לא יהיה ניתן לשחזר את המשימה לאחר פעולה זאת';\n  const handleDeleteTask = () => {\n    columnDetails.taskIds.splice(index, 1);\n    deleteTask(projectKey, columnDetails.id, taskId, columnDetails.taskIds);\n  };\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  return (\n    <>\n      {task && (\n        <Draggable draggableId={taskId} index={index} key={taskId}>\n          {(provided) => (\n            <ListItem\n              role={undefined}\n              button\n              className={classes.listItem}\n              {...provided.draggableProps}\n              {...provided.dragHandleProps}\n              innerRef={provided.innerRef}>\n              <ListItemText primary={task.name} />\n              <ListItemIcon onClick={() => handleClickOpen()}>\n                <DeleteForever />\n              </ListItemIcon>\n              <AlertDialog open={open} setOpen={setOpen} text={alertText} cbFunc={handleDeleteTask} />\n            </ListItem>\n          )}\n        </Draggable>\n      )}\n    </>\n  );\n}\n","import Task from './Task';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useState } from 'react';\nimport { CardHeader, Card, CardContent, Grid, List, Button } from '@material-ui/core';\nimport { AddCircleOutlineRounded } from '@material-ui/icons';\nimport { addTask } from 'main/fireBaseMethods';\nimport Dialog from './Dialog';\nimport { Droppable } from 'react-beautiful-dnd';\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  cardHeader: {\n    fontWeight: 400,\n  },\n  cardContent: {\n    flexGrow: 1,\n    height: '50vh',\n  },\n  list: {\n    width: '100%',\n    maxWidth: 360,\n    height: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  button: {\n    margin: theme.spacing(1, 'auto'),\n    maxWidth: '50%',\n  },\n  buttonIcon: {\n    marginInlineEnd: theme.spacing(1),\n    marginRight: theme.spacing(-1),\n  },\n}));\n\ninterface IaddTask {\n  projectKey: string;\n  column: string;\n  name: string;\n}\n\n/* interface Itask {\n  id: string;\n  name: string;\n  owner: string;\n  [key: string]: any;\n} */\n\nexport default function Cards({ ...props }) {\n  const classes = useStyles();\n\n  const { cardName, projectKey, column, tasks, allData } = props;\n\n  const [openDialog, setOpenDialog] = useState(false);\n  const handleClickOpen = () => {\n    setOpenDialog(true);\n  };\n\n  const onAddNewTask = (name: string) => {\n    const newTask: IaddTask = {\n      projectKey,\n      column: column.id,\n      name,\n    };\n    addTask(newTask);\n  };\n\n  return (\n    <Grid item xs={12} md={4}>\n      <Card className={classes.card}>\n        <CardHeader title={cardName} />\n        <CardContent className={classes.cardContent}>\n          <Droppable droppableId={column.id}>\n            {(provided) => (\n              <List className={classes.list} dir='rtl' {...provided.droppableProps} innerRef={provided.innerRef}>\n                {tasks &&\n                  tasks.map((taskId: string, index: number) => {\n                    return (\n                      <Task\n                        taskId={taskId}\n                        projectKey={projectKey}\n                        columnDetails={column}\n                        task={allData.tasks[taskId]}\n                        index={index}\n                        key={taskId}\n                      />\n                    );\n                  })}\n                {provided.placeholder}\n              </List>\n            )}\n          </Droppable>\n        </CardContent>\n        <Button\n          variant='contained'\n          dir='rtl'\n          color='secondary'\n          onClick={handleClickOpen}\n          className={classes.button}\n          startIcon={<AddCircleOutlineRounded className={classes.buttonIcon} />}>\n          הוסף\n        </Button>\n        <Dialog cbFunc={onAddNewTask} open={openDialog} setOpen={setOpenDialog} text={{ label: 'משימה:' }} />\n      </Card>\n    </Grid>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { database } from '../firebaseConfig';\n\nconst useKanban = (userId: string, projectId: string) => {\n  const [tasks, setTasks]: any = useState(null);\n  const [columns, setColumns]: any = useState(null);\n  const [final, setFinal] = useState<null | any>(null);\n  const [boardName, setBoardName] = useState('');\n  console.log('enter kanban');\n\n  useEffect(() => {\n    if (!projectId) {\n      return;\n    }\n    database.ref(`projects/${projectId}/tasks`).on('value', (snapshot) => {\n      const documents: any[] = [];\n\n      Object.keys(snapshot.val()).forEach((taskKey: string) => {\n        documents.push({ ...snapshot.val()[taskKey] });\n      });\n      return setTasks(documents);\n    });\n  }, [userId, projectId]);\n\n  useEffect(() => {\n    if (!projectId) {\n      return;\n    }\n\n    database\n      .ref(`projects/${projectId}`)\n      .get()\n      .then((snapshot) => setBoardName(snapshot.val().name));\n  }, [userId, projectId]);\n\n  useEffect(() => {\n    if (!projectId) {\n      return;\n    }\n    database.ref(`projects/${projectId}/columns`).on('value', (snapshot) => {\n      const documents: any[] = [];\n\n      Object.keys(snapshot.val()).forEach((columnKey: any) => {\n        documents.push({ id: columnKey, ...snapshot.val()[columnKey] });\n      });\n      setColumns(documents);\n    });\n  }, [userId, projectId]);\n\n  useEffect(() => {\n    if (tasks && columns) {\n      const finalObject: any = {};\n\n      const columnOrder = columns.find((c: any) => c.id === 'columnOrder');\n      const cols = columns.filter((c: any) => c.id !== 'columnOrder');\n\n      finalObject.columnOrder = Object.values(columnOrder).filter((colName: any) => colName !== 'columnOrder');\n      finalObject.columns = {};\n      finalObject.tasks = {};\n\n      tasks.forEach((t: any) => (finalObject.tasks[t.id] = t));\n      cols.forEach((c: any) => (finalObject.columns[c.id] = c));\n\n      setFinal(finalObject);\n    }\n  }, [tasks, columns]);\n\n  return { initialData: final, setInitialData: setFinal, boardName };\n};\n\nexport default useKanban;\n","import React, { useState } from 'react';\nimport { Button, Container, Grid, makeStyles, Theme, Typography } from '@material-ui/core';\nimport { addNewProject, reorderTasks, reorderTasksColumns } from '../fireBaseMethods';\nimport Header from './Header';\nimport Dialog from './Dialog';\nimport Cards from './Cards';\nimport { DragDropContext, DropResult } from 'react-beautiful-dnd';\nimport useKanban from '../../utils/kanban';\nimport { auth } from 'firebaseConfig';\n\n/* interface taskType {\n  name: string;\n  owner: string;\n  id: string;\n  [key: string]: any;\n} */\n\n/* interface todoType {\n  status: taskType;\n  [key: string]: any;\n} */\n\n/* interface Iproject {\n  name: string;\n  users: string[];\n  todos: todoType;\n  [key: string]: any;\n} */\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  wrapper: {\n    height: '100%',\n    flexGrow: 1,\n    display: 'flex',\n  },\n  icon: {\n    marginRight: theme.spacing(2),\n  },\n  cardGrid: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n\n  footer: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(6),\n  },\n  main: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n}));\n\nconst Main = () => {\n  const classes = useStyles();\n  const userId = auth.currentUser!.uid;\n  const [projectKeyRef, setProjectKeyRef] = useState('');\n  const [openDialog, setOpenDialog] = React.useState(false);\n  const { initialData, setInitialData, boardName } = useKanban(userId, projectKeyRef);\n\n  const onSelectProject = (projectKey: string) => {\n    setProjectKeyRef(projectKey);\n  };\n\n  const onAddNewProject = async (projectName: string) => {\n    const projectKey = await addNewProject(projectName);\n    if (projectKey) onSelectProject(projectKey);\n  };\n\n  const handleClickOpen = () => {\n    setOpenDialog(true);\n  };\n\n  const HandleDragEnd = (result: DropResult) => {\n    const { destination, source, draggableId } = result;\n    console.log('handleDragEnd');\n\n    if (!destination) return;\n\n    const startColumn = initialData.columns[source.droppableId];\n    const endColumn = initialData.columns[destination.droppableId];\n\n    if (startColumn === endColumn) {\n      const newTaskIds = Array.from(endColumn.taskIds);\n\n      newTaskIds.splice(source.index, 1);\n      newTaskIds.splice(destination.index, 0, draggableId);\n\n      const newColumn = {\n        ...endColumn,\n        taskIds: newTaskIds,\n      };\n\n      const newState = {\n        ...initialData,\n        columns: { ...initialData.columns, [endColumn.id]: newColumn },\n      };\n\n      setInitialData(newState);\n      reorderTasks(projectKeyRef, startColumn.id, newTaskIds);\n      return;\n    }\n    const startTaskIDs = Array.from(startColumn.taskIds);\n    startTaskIDs.splice(source.index, 1);\n    const newStart = {\n      ...startColumn,\n      taskIds: startTaskIDs,\n    };\n\n    let finishTaskIDs: string[] = [];\n    if (endColumn.taskIds) finishTaskIDs = Array.from(endColumn.taskIds);\n\n    finishTaskIDs.splice(destination.index, 0, draggableId);\n    const newFinish = {\n      ...endColumn,\n      taskIds: finishTaskIDs,\n    };\n\n    const newState = {\n      ...initialData,\n      columns: {\n        ...initialData.columns,\n        [startColumn.id]: newStart,\n        [endColumn.id]: newFinish,\n      },\n    };\n\n    setInitialData(newState);\n    reorderTasksColumns(projectKeyRef, newStart.id, newFinish.id, startTaskIDs, finishTaskIDs);\n  };\n\n  return (\n    <div className={classes.wrapper}>\n      <Header onSelectProject={onSelectProject} />\n      <main className={classes.main}>\n        <div className={classes.toolbar}></div>\n        <Container>\n          <Grid container spacing={4}>\n            {initialData && (\n              <>\n                <Grid item xs={12}>\n                  <Typography variant='h3'>{boardName}</Typography>\n                </Grid>\n                <DragDropContext onDragEnd={HandleDragEnd}>\n                  {initialData.columnOrder.map((colId: string, index: number) => {\n                    const column = initialData?.columns[colId];\n                    const tasks = column.taskIds?.map((t: any) => t);\n                    return (\n                      <Cards\n                        column={column}\n                        tasks={tasks}\n                        allData={initialData}\n                        key={column.id}\n                        userId={userId}\n                        index={index}\n                        cardName={column.title}\n                        projectKey={projectKeyRef}\n                      />\n                    );\n                  })}\n                </DragDropContext>\n              </>\n            )}\n            <Grid item xs={12}>\n              <Button variant='contained' color='primary' onClick={handleClickOpen}>\n                פרויקט חדש\n              </Button>\n              <Dialog\n                cbFunc={onAddNewProject}\n                open={openDialog}\n                setOpen={setOpenDialog}\n                text={{ label: 'שם פרויקט:' }}\n              />\n            </Grid>\n          </Grid>\n        </Container>\n      </main>\n    </div>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport Main from 'main';\nconst Todos = () => {\n  /* const [currentProject, setCurrentProject] = useState(null); */\n  return (\n    <React.Fragment>\n      <Main />\n    </React.Fragment>\n  );\n};\n\nexport default Todos;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Login from 'login';\nimport Container from './Container';\nimport Footer from 'login/components/Footer';\nimport UserProvideer from 'shared/providers/firebaseAuthProvider';\nimport PrivateRoute from './PrivateRoute';\nimport Todos from './Todos';\n\nconst App = () => {\n  return (\n    <UserProvideer>\n      <Container>\n        <Switch>\n          <Route exact path='/'>\n            <Login />\n            <Footer />\n          </Route>\n          <PrivateRoute path='/todos' component={Todos} />\n        </Switch>\n      </Container>\n    </UserProvideer>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport theme from './shared/style/theme';\nimport App from './app';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <Router basename='/todo'>\n      <CssBaseline />\n      <App />\n    </Router>\n  </ThemeProvider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}